"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[705],{1966:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>c,toc:()=>s});var l=i(4848),r=i(8453);const d={},o="File Format",c={id:"file-format",title:"File Format",description:"Instruction Files are YAML files consisting of a list of Transformations. To learn more about the YAML file format, visit yaml.org.",source:"@site/../docs/file-format.md",sourceDirName:".",slug:"/file-format",permalink:"/btd/file-format",draft:!1,unlisted:!1,editUrl:"https://github.com/brandonxlf/btd/tree/main/website/../docs/file-format.md",tags:[],version:"current",frontMatter:{},sidebar:"docSidebar",previous:{title:"Installation",permalink:"/btd/install"},next:{title:"Running Instructions",permalink:"/btd/running"}},t={},s=[{value:"Transformations",id:"transformations",level:2},{value:"<code>meta</code>",id:"meta",level:3},{value:"<code>run</code>",id:"run",level:3},{value:"<code>create</code>",id:"create",level:3},{value:"<code>replace</code>",id:"replace",level:3},{value:"<code>prepend</code>",id:"prepend",level:3},{value:"<code>append</code>",id:"append",level:3},{value:"<code>rename</code>",id:"rename",level:3},{value:"<code>copy</code>",id:"copy",level:3},{value:"<code>delete</code>",id:"delete",level:3},{value:"<code>deploy</code>",id:"deploy",level:3}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h1,{id:"file-format",children:"File Format"}),"\n",(0,l.jsxs)(n.p,{children:["Instruction Files are YAML files consisting of a list of ",(0,l.jsx)(n.a,{href:"#transformations",children:"Transformations"}),". To learn more about the YAML file format, visit ",(0,l.jsx)(n.a,{href:"https://yaml.org/",children:"yaml.org"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"transformations",children:"Transformations"}),"\n",(0,l.jsxs)(n.p,{children:["Each Transformation is a YAML dictionary with a ",(0,l.jsx)(n.code,{children:"type"})," key corresponding to one of the options below."]}),"\n",(0,l.jsx)(n.h3,{id:"meta",children:(0,l.jsx)(n.code,{children:"meta"})}),"\n",(0,l.jsx)(n.p,{children:"The first entry. Contains information about the Instruction File."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"dir"})," - Base directory to use for commands and file operations. All relatives paths are processed relative to this path."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"run",children:(0,l.jsx)(n.code,{children:"run"})}),"\n",(0,l.jsx)(n.p,{children:"Run a command."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"cmd"})," - The command to run."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"cwd"})," (",(0,l.jsx)(n.em,{children:"optional"}),") - The current working directory to run the command in. Defaults to the ",(0,l.jsx)(n.code,{children:"meta"})," transformation's ",(0,l.jsx)(n.code,{children:"dir"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"env"})," (",(0,l.jsx)(n.em,{children:"optional"}),") - Mapping of environment variables to set."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"create",children:(0,l.jsx)(n.code,{children:"create"})}),"\n",(0,l.jsx)(n.p,{children:"Create a file with content."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"file"})," - The file to create."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"text"})," - Text to create the file with."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"replace",children:(0,l.jsx)(n.code,{children:"replace"})}),"\n",(0,l.jsx)(n.p,{children:"Find and replace text in a file."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"file"})," - The file to replace text in."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"find"})," - The text to find. Interpreted as normal text unless ",(0,l.jsx)(n.code,{children:"regex"})," is ",(0,l.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"replace"})," - The text to replace. If ",(0,l.jsx)(n.code,{children:"regex"})," is ",(0,l.jsx)(n.code,{children:"true"}),", substitutions (eg. ",(0,l.jsx)(n.code,{children:"$1"}),", ",(0,l.jsx)(n.code,{children:"$2"}),", etc.) are supported."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"regex"})," (",(0,l.jsx)(n.em,{children:"optional"}),") - Boolean indicating if ",(0,l.jsx)(n.code,{children:"find"})," should be interpreted as a regex expression. Defaults to ",(0,l.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"prepend",children:(0,l.jsx)(n.code,{children:"prepend"})}),"\n",(0,l.jsx)(n.p,{children:"Find and replace text in a file."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"file"})," - The file to prepend text to."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"text"})," - Text to prepend the file with."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"append",children:(0,l.jsx)(n.code,{children:"append"})}),"\n",(0,l.jsx)(n.p,{children:"Append text to the end of a file."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"file"})," - The file to append to text."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"text"})," - Text to append the file with."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"rename",children:(0,l.jsx)(n.code,{children:"rename"})}),"\n",(0,l.jsx)(n.p,{children:"Rename a file."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"from"})," - The old file path."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"to"})," - The new file path."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"copy",children:(0,l.jsx)(n.code,{children:"copy"})}),"\n",(0,l.jsx)(n.p,{children:"Copy a file."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"from"})," - The path of the original file."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"to"})," - The path of the copy to create."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"delete",children:(0,l.jsx)(n.code,{children:"delete"})}),"\n",(0,l.jsx)(n.p,{children:"Delete a file or directory."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"file"})," - The file or directory to delete."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"recursive"})," (",(0,l.jsx)(n.em,{children:"optional"}),") - Boolean indicating if items should be deleted recursively if ",(0,l.jsx)(n.code,{children:"file"})," is a directory."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"deploy",children:(0,l.jsx)(n.code,{children:"deploy"})}),"\n",(0,l.jsx)(n.p,{children:"Deploy a file to a production environment via secure copy."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"from"})," - The local directory/file to copy from."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"to"})," - The production directory/file to copy to as an ",(0,l.jsx)(n.code,{children:"scp"})," path."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"clear"})," (",(0,l.jsx)(n.em,{children:"optional"}),") - Boolean indicating if ",(0,l.jsx)(n.code,{children:"to"})," should be removed and replaced with ",(0,l.jsx)(n.code,{children:"from"}),". Files are transferred to the remote server before ",(0,l.jsx)(n.code,{children:"to"})," is deleted. Defaults to ",(0,l.jsx)(n.code,{children:"false"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>c});var l=i(6540);const r={},d=l.createContext(r);function o(e){const n=l.useContext(d);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),l.createElement(d.Provider,{value:n},e.children)}}}]);